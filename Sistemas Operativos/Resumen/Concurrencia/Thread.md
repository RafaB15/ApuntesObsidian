- Un thread (hilo) es un punto de ejecución en un programa con múltiples hilos de ejecución.
- Es  una secuencia de ejecución atómica que representa una tarea planificable de ejecución.
- Se parece a un [[Proceso|proceso]] en que:
	- Tiene un program counter (PC) que sigue desde donde se están obteniendo (fetching) instrucciones.
	- Cada thread tiene un set de registros que usa para computación.
	- Debido a esto, al cambiar de un thread $T_1$ a uno $T_2$ se realiza un **context switch** parecido al que se hace al cambiar de procesos.
- La diferencia entre un thread y un [[Proceso|proceso]] es que:
	- Comparte el mismo [[Address Space|espacio de memoria]] que el resto de los threads, por lo que puede acceder a los mismos datos.
		- Memoria.
		- File descriptors
		- Contexto del filesystem
		- Manejo de señales.
	- Mientras que los procesos guardan su estado antes del **context switch** en el process control block (PCB), los threads lo harán en alguno de los **thread control blocks** (TCBs). 
	- Se crea una entrada de **TCB** por cada thread que guarda su estado.
	- A diferencia de los procesos, en este cambio de contexto, el [[Address Space|address space]] se mantiene igual, pues no hay necesidad de cambiar la [[Paging#Page table|page table]] que estemos usando.
	- En un proceso multi-thread, cada thread va a tener su propio [[Stack|stack]] (call stack).
	![[Stack de un proceso con múltiples threads.png]]
- En resumen, mientras que un [[Proceso|proceso]] es un programa en ejecución con derechos restringidos, thread es una secuencia independiente de instrucciones ejecutándose dentro de un programa.
- Cada thread corre en un procesador virtual dedicado (exclusivo) con una velocidad variable e impredecible. El orden en el que se ejecutan las instrucciones atómicas es determinado por el **thread scheduler**.
- Estados de un thread:
	- INIT: Se está inicializando el thread.
	- READY: Está listo para ser ejecutado.
	- RUNNING: Está siendo ejecutado en este mismo instante por el procesador. Puede salir de este estado por:
		- El scheduler.
		- Usa yield.
	- WAITING: Está esperando que algún evento suceda. Se almacena en la waiting list.
	- FINISHED: Un thread en este estado nunca podrá ser ejecutado otra vez. Se almacena en la finished list.
- Los threads tienen que lidiar con el problema de las [[Race Condition|condiciones de carrera]].
- En el kernel de linux, se toma tanto a los procesos como a los threads como lo mismo, tareas ejecutables.